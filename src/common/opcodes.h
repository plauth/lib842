#ifndef LIB842_SRC_COMMON_OPCODES_H
#define LIB842_SRC_COMMON_OPCODES_H

#include "842.h"

static const uint8_t ops_dict[224] = {
/*	0	*/	0x00,
/*	1	*/	0	,
/*	2	*/	0	,
/*	3	*/	0	,
/*	4	*/	0	,
/*	5	*/	0	,
/*	6	*/	0	,
/*	7	*/	0	,
/*	8	*/	0	,
/*	9	*/	0	,
/*	10	*/	0	,
/*	11	*/	0	,
/*	12	*/	0	,
/*	13	*/	0	,
/*	14	*/	0	,
/*	15	*/	0	,
/*	16	*/	0	,
/*	17	*/	0	,
/*	18	*/	0	,
/*	19	*/	0x0a,
/*	20	*/	0	,
/*	21	*/	0	,
/*	22	*/	0	,
/*	23	*/	0	,
/*	24	*/	0	,
/*	25	*/	0	,
/*	26	*/	0	,
/*	27	*/	0	,
/*	28	*/	0	,
/*	29	*/	0	,
/*	30	*/	0	,
/*	31	*/	0	,
/*	32	*/	0x05	,
/*	33	*/	0	,
/*	34	*/	0	,
/*	35	*/	0	,
/*	36	*/	0	,
/*	37	*/	0	,
/*	38	*/	0	,
/*	39	*/	0	,
/*	40	*/	0	,
/*	41	*/	0	,
/*	42	*/	0	,
/*	43	*/	0	,
/*	44	*/	0	,
/*	45	*/	0x02,
/*	46	*/	0	,
/*	47	*/	0	,
/*	48	*/	0	,
/*	49	*/	0	,
/*	50	*/	0	,
/*	51	*/	0	,
/*	52	*/	0x0f,
/*	53	*/	0	,
/*	54	*/	0	,
/*	55	*/	0	,
/*	56	*/	0	,
/*	57	*/	0	,
/*	58	*/	0	,
/*	59	*/	0	,
/*	60	*/	0	,
/*	61	*/	0	,
/*	62	*/	0	,
/*	63	*/	0	,
/*	64	*/	0	,
/*	65	*/	0x0c,
/*	66	*/	0	,
/*	67	*/	0	,
/*	68	*/	0	,
/*	69	*/	0	,
/*	70	*/	0	,
/*	71	*/	0x01,
/*	72	*/	0	,
/*	73	*/	0	,
/*	74	*/	0	,
/*	75	*/	0	,
/*	76	*/	0	,
/*	77	*/	0	,
/*	78	*/	0x07,
/*	79	*/	0x14,
/*	80	*/	0	,
/*	81	*/	0	,
/*	82	*/	0	,
/*	83	*/	0	,
/*	84	*/	0	,
/*	85	*/	0	,
/*	86	*/	0	,
/*	87	*/	0	,
/*	88	*/	0	,
/*	89	*/	0	,
/*	90	*/	0	,
/*	91	*/	0x0b,
/*	92	*/	0	,
/*	93	*/	0	,
/*	94	*/	0	,
/*	95	*/	0	,
/*	96	*/	0	,
/*	97	*/	0x11,
/*	98	*/	0	,
/*	99	*/	0	,
/*	100	*/	0	,
/*	101	*/	0	,
/*	102	*/	0	,
/*	103	*/	0	,
/*	104	*/	0x06,
/*	105	*/	0	,
/*	106	*/	0	,
/*	107	*/	0	,
/*	108	*/	0	,
/*	109	*/	0	,
/*	110	*/	0	,
/*	111	*/	0	,
/*	112	*/	0	,
/*	113	*/	0	,
/*	114	*/	0	,
/*	115	*/	0	,
/*	116	*/	0	,
/*	117	*/	0x03,
/*	118	*/	0	,
/*	119	*/	0	,
/*	120	*/	0	,
/*	121	*/	0	,
/*	122	*/	0	,
/*	123	*/	0x10,
/*	124	*/	0	,
/*	125	*/	0x16,
/*	126	*/	0	,
/*	127	*/	0	,
/*	128	*/	0	,
/*	129	*/	0	,
/*	130	*/	0	,
/*	131	*/	0	,
/*	132	*/	0x04,
/*	133	*/	0	,
/*	134	*/	0	,
/*	135	*/	0	,
/*	136	*/	0x0d,
/*	137	*/	0	,
/*	138	*/	0	,
/*	139	*/	0	,
/*	140	*/	0	,
/*	141	*/	0	,
/*	142	*/	0	,
/*	143	*/	0	,
/*	144	*/	0	,
/*	145	*/	0	,
/*	146	*/	0	,
/*	147	*/	0	,
/*	148	*/	0	,
/*	149	*/	0x08,
/*	150	*/	0	,
/*	151	*/	0x15,
/*	152	*/	0x0e,
/*	153	*/	0	,
/*	154	*/	0	,
/*	155	*/	0	,
/*	156	*/	0	,
/*	157	*/	0	,
/*	158	*/	0	,
/*	159	*/	0	,
/*	160	*/	0	,
/*	161	*/	0	,
/*	162	*/	0	,
/*	163	*/	0	,
/*	164	*/	0	,
/*	165	*/	0x09,
/*	166	*/	0	,
/*	167	*/	0	,
/*	168	*/	0	,
/*	169	*/	0x12,
/*	170	*/	0	,
/*	171	*/	0	,
/*	172	*/	0	,
/*	173	*/	0	,
/*	174	*/	0	,
/*	175	*/	0	,
/*	176	*/	0	,
/*	177	*/	0	,
/*	178	*/	0	,
/*	179	*/	0	,
/*	180	*/	0	,
/*	181	*/	0	,
/*	182	*/	0	,
/*	183	*/	0	,
/*	184	*/	0x13,
/*	185	*/	0	,
/*	186	*/	0	,
/*	187	*/	0	,
/*	188	*/	0	,
/*	189	*/	0	,
/*	190	*/	0	,
/*	191	*/	0	,
/*	192	*/	0	,
/*	193	*/	0	,
/*	194	*/	0	,
/*	195	*/	0	,
/*	196	*/	0x17,
/*	197	*/	0	,
/*	198	*/	0	,
/*	199	*/	0	,
/*	200	*/	0	,
/*	201	*/	0	,
/*	202	*/	0	,
/*	203	*/	0	,
/*	204	*/	0	,
/*	205	*/	0	,
/*	206	*/	0	,
/*	207	*/	0	,
/*	208	*/	0	,
/*	209	*/	0	,
/*	210	*/	0	,
/*	211	*/	0	,
/*	212	*/	0x18,
/*	213	*/	0	,
/*	214	*/	0	,
/*	215	*/	0	,
/*	216	*/	0	,
/*	217	*/	0	,
/*	218	*/	0	,
/*	219	*/	0	,
/*	220	*/	0	,
/*	221	*/	0	,
/*	222	*/	0	,
/*	223	*/	0x19
};

#if defined(BRANCH_FREE) && BRANCH_FREE == 1

//1st value: position of payload in dataAndIndices
//2nd value: number of bits
#define D20_OP	{0,  D2_BITS}
#define D21_OP	{1,  D2_BITS}
#define D22_OP	{2,  D2_BITS}
#define D23_OP	{3,  D2_BITS}
#define D40_OP	{4,  D4_BITS}
#define D41_OP  {5,  D4_BITS}
#define D80_OP	{6,  D8_BITS}
#define I20_OP	{7,  I2_BITS}
#define I21_OP	{8,  I2_BITS}
#define I22_OP	{9,  I2_BITS}
#define I23_OP	{10, I2_BITS}
#define I40_OP	{11, I4_BITS}
#define I41_OP	{12, I4_BITS}
#define I80_OP	{13, I8_BITS}
#define D4S_OP  {14, D4_BITS}
#define N0_OP	{15, 0}

static uint8_t templates[26][4][2] = { // params size in bits
	{ D80_OP, N0_OP,  N0_OP,  N0_OP }, // 0x00	64
	{ D40_OP, D22_OP, I23_OP, N0_OP }, // 0x01 56
	{ D40_OP, I22_OP, D23_OP, N0_OP }, // 0x02 56
	{ D40_OP, I22_OP, I23_OP, N0_OP }, // 0x03 48

	{ D40_OP, I41_OP, N0_OP,  N0_OP }, // 0x04 41
	{ D20_OP, I21_OP, D41_OP, N0_OP }, // 0x05	56
	{ D20_OP, I21_OP, D22_OP, I23_OP }, // 0x06	48
	{ D20_OP, I21_OP, I22_OP, D23_OP }, // 0x07	48

	{ D20_OP, I21_OP, I22_OP, I23_OP }, // 0x08	40
	{ D20_OP, I21_OP, I41_OP, N0_OP }, // 0x09	33
	{ I20_OP, D21_OP, D41_OP, N0_OP }, // 0x0a	56
	{ I20_OP, D4S_OP, I23_OP, N0_OP }, // 0x0b	48

	{ I20_OP, D21_OP, I22_OP, D23_OP }, // 0x0c	48
	{ I20_OP, D21_OP, I22_OP, I23_OP }, // 0x0d	40
	{ I20_OP, D21_OP, I41_OP, N0_OP }, // 0x0e	33
	{ I20_OP, I21_OP, D41_OP, N0_OP }, // 0x0f	48

	{ I20_OP, I21_OP, D22_OP, I23_OP }, // 0x10 40
	{ I20_OP, I21_OP, I22_OP, D23_OP }, // 0x11	40
	{ I20_OP, I21_OP, I22_OP, I23_OP }, // 0x12	32
	{ I20_OP, I21_OP, I41_OP, N0_OP }, // 0x13	25

	{ I40_OP, D41_OP, N0_OP,  N0_OP }, // 0x14	41
	{ I40_OP, D22_OP, I23_OP, N0_OP }, // 0x15	33
	{ I40_OP, I22_OP, D23_OP, N0_OP }, // 0x16	33
	{ I40_OP, I22_OP, I23_OP, N0_OP }, // 0x17	25

	{ I40_OP, I41_OP, N0_OP,  N0_OP }, // 0x18	18
	{ I80_OP, N0_OP,  N0_OP,  N0_OP }, // 0x19	8
};

#endif

#endif // LIB842_SRC_COMMON_OPCODES_H
